# REVIEW - STELLA Project Analysis

このドキュメントは、プロジェクトの節目において、自律型エージェント `deba` によって生成された総評と、開発を通じて得られた知見をまとめたものです。

## 1. 総評 (Executive Summary)

STELLAは、「LLMを制御ループの中核（CPU）に据える」という先進的なコンセプトを、極めてミニマルかつ実践的なコードで具現化した、優れた自律エージェントの雛形です。複雑なフレームワークに頼らず、TypeScriptと標準的なパッケージのみでマルチプロバイダー対応を実現しており、技術的な透明性と拡張性が非常に高い。

### 評価ポイント
- **コンセプトの具現化**: `CONCEPT.md` で掲げた「制御の逆転」が、`src/index.ts` のメインループ構造に明確に反映されている。
- **実用的な設計**: 実行時にプロバイダーやモデルを切り替えられる設計は、現実のAPI制限やコスト問題に対する柔軟な回避策を提供している。

## 2. 開発中の気づきと体験

開発の初期段階において行われた**「Human-in-the-loop モック（人間がLLMのフリをしてJSONを入力する）」**というプロセスは、以下の重要な示唆を与えた。

- **制御の逆転の体感**: 人間がプログラムに命令されるのではなく、プログラム（環境）を操作するために「思考」をJSONとして出力する体験は、AIエージェントの視点を理解する上で極めて有効であった。
- **インターフェースの重要性**: ツール（`run_shell`等）がどのように定義され、その結果がどう返ってくるかが、エージェント（またはそのモックである人間）の判断精度に直結することを再認識した。

## 3. 現実的な制約と課題

実稼働を通じて、以下の「物理的な壁」が明らかになった。

- **API制限 (RPD/TPM)**: 
    - Gemini無料枠におけるRPD（1日あたりのリクエスト数）制限は、STELLAの「永続セッション」コンセプトと根本的に矛盾する。
    - GitHub Models等のプレミアムモデル利用権限がAPI経由では制限されるなど、プロバイダーごとの「壁」が存在する。
- **コストとリスク**: 有料API（OpenAI等）の導入には初期コストと、自己修正ループによる予期せぬ課金のリスクが伴う。
- **コンテキスト管理**: 履歴の蓄積によるトークン消費と、記憶の忘却（ウィンドウ上限）への対策が未実装。

## 4. 今後の展望

これらの課題を乗り越え、STELLAを次世代のプラットフォームへ進化させるための道筋。

### 短期的改善
- **高度なAPI管理**: 指数バックオフによるリトライ、コスト上限設定。
- **履歴の圧縮**: LLMによる自己要約レイヤーの実装。
- **動的ツールシステム**: ツールの定義を外部化（JSON/YAML）し、再起動なしで能力を拡張。

### 長期的構想
- **GUI化**: 思考プロセスとツール実行のリアルタイム可視化。
- **並列・マルチエージェント**: 複数のSTELLAが協調してタスクを解決するアーキテクチャへの拡張。

---
*2026年2月28日 - 開発の一旦の終着点にて。*
*この「星（STELLA）」の煌めきが、次なる自律エージェント開発の道しるべとなることを願って。*
